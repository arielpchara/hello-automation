(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{174:function(e,n){},175:function(e,n){},187:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(72),u=t.n(c),o=t(77),i=t(11),l=t(27),s=t(20),f=t(21),b=t(33);function m(){var e=Object(s.a)(["\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n  align-items: center;\n  justify-content: center;\n"]);return m=function(){return e},e}function d(){var e=Object(s.a)(["\n  border: none;\n  background: ",";\n  padding: 2em;\n  border-radius: 50%;\n  width: 100px;\n  height: 100px;\n  outline: none;\n  opacity: 0.75;\n  &:hover {\n    opacity: 1;\n  }\n"]);return d=function(){return e},e}var p=f.a.button(d(),(function(e){return"ON"===e.state?"orange":"grey"})),v=f.a.div(m()),O="stat/quarto/POWER",E=Object(b.connect)("ws://192.168.0.104:1884");function j(){var e=Object(a.useState)(),n=Object(l.a)(e,2),t=n[0],c=n[1];Object(a.useEffect)((function(){E.subscribe(O),E.on("message",(function(e,n){console.log(e,n),O===e&&c(n.toString())})),E.publish("cmnd/quarto/POWER","")}),[]);var u=Object(a.useCallback)((function(){E.publish("cmnd/quarto/POWER","TOGGLE")}),[]);return r.a.createElement(v,null,void 0===t?r.a.createElement(r.a.Fragment,null,"loading..."):r.a.createElement(p,{state:t,onClick:u},"Light is: ",t))}var g=t(80),h=t(76),x=t.n(h),w={animDuration:1,showValue:!0,initialValue:0,max:100};function y(e){var n=Object(a.useRef)(null),t=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(!t.current){var a=Object(g.a)({},w,{},e);t.current=x()(n.current,a),t.current.setValue(e.value||0)}t.current.setValueAnimated(e.value,1.5)}),[e]),r.a.createElement("div",{ref:n,className:"gauge-container"})}function S(){var e=Object(s.a)(["\n  width: 150px;\n  height: 150px;\n  display: flex;\n  flex-direction: column;\n"]);return S=function(){return e},e}function k(){var e=Object(s.a)(["\n  display: flex;\n"]);return k=function(){return e},e}var R=f.a.div(k()),J=f.a.div(S());function N(){var e=Object(a.useMemo)((function(){return Object(b.connect)("ws://192.168.0.104:1884")}),[]),n=Object(a.useState)({currentload:0}),t=Object(l.a)(n,2),c=t[0],u=t[1],o=Object(a.useState)({available:0,total:100}),i=Object(l.a)(o,2),s=i[0],f=i[1];return Object(a.useEffect)((function(){e.subscribe("board/load"),e.subscribe("board/mem"),e.on("message",(function(e,n){"board/load"===e&&u(JSON.parse(n.toString())),"board/mem"===e&&f(JSON.parse(n.toString()))}))}),[e]),r.a.createElement(R,null,r.a.createElement(J,null,r.a.createElement(y,{value:c.currentload,label:function(e){return"".concat(e.toFixed(1),"%")}})),r.a.createElement(J,null,r.a.createElement(y,{value:s.available/s.total*100,label:function(e){return"".concat(e.toFixed(1),"%")}})))}function V(){return r.a.createElement(o.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:j}),r.a.createElement(i.a,{path:"/monitor",component:N})))}var q=function(){return r.a.createElement(V,null)};u.a.render(r.a.createElement(q,null),document.getElementById("root"))},81:function(e,n,t){e.exports=t(187)},88:function(e,n){},90:function(e,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.d13e1921.chunk.js.map